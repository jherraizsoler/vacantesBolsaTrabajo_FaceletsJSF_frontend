<?xml version="1.0" encoding="UTF-8"?>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/JSP_Servlet/XHtml.xhtml to edit this template
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:f="jakarta.faces.core"
      xmlns:ui="jakarta.faces.facelets">

    <h:head>
        <meta charset="UTF-8"/>
        <title>Bolsa de Trabajo V1</title>
        <h:outputStylesheet library="css" name="indexFormStyle.css"/>
    </h:head>
    <h:body>
        <ui:composition template="./WEB-INF/plantillas/plantilla.xhtml">

            <ui:define name="content" class="main-container">

                <h:form id="vacanteForm" style="display: flex; flex-direction: column; align-items: center;">
                    <div class="form-card">
                        <h1 class="form-title">Formulario de Vacantes</h1>
                        <h:messages globalOnly="true"/>
                        <table>
                            <tr>
                                <td><h:outputLabel for="nombre" value="#{msgs['vacanteForm.nombre']}"></h:outputLabel></td>
                                <td><h:inputText id="nombre"  styleClass="input" value="#{candidato.nombre}" required="true"/></td>
                                <td><h:message for="nombre"></h:message></td>
                            </tr>
                            <tr>
                                <td><h:outputLabel for="apellido" value="#{msgs['vacanteForm.apellido']}" /></td>
                                <td><h:inputText id="apellido" class="input" value="#{candidato.apellido}" required="true"/></td>
                                <td><h:message for="apellido"/></td>
                            </tr>
                            <tr>
                                <td><h:outputLabel for="salarioDeseado" value="#{msgs['vacanteForm.salarioDeseado']}"/></td>
                                <td>
                                    <h:inputText id="salarioDeseado"  styleClass="input" value="#{candidato.salarioDeseado}" required="true">
                                        <f:validateLongRange minimum="500" maximum="5000"/>
                                    </h:inputText>
                                </td>
                                <td><h:message for="salarioDeseado"/></td>
                            </tr>
                            <tr>
                                <td><h:outputLabel for="fechaNacimiento" value="#{msgs['vacanteForm.fechaNacimiento']}"/></td>
                                <td>
                                    <h:inputText id="fechaNacimiento"  styleClass="input" value="#{candidato.fechaNacimiento}" required="true">
                                        <f:convertDateTime pattern="dd/MM/yyyy"/>
                                    </h:inputText>
                                </td>
                                <td><h:message for="fechaNacimiento"/></td>
                            </tr>
                            <tr>
                                <td><h:outputLabel for="codigoPostal" value="#{msgs['vacanteForm.codigoPostal']}"/></td>
                                <td>
                                    <h:inputText id="codigoPostal"  styleClass="input" converter="jakarta.faces.Integer"
                                                 immediate="true" onchange="this.form.submit()"
                                                 value="#{candidato.codigoPostal}" required="true"
                                                 valueChangeListener="#{vacanteForm.codigoPostalListener}">
                                        <f:convertNumber integerOnly="true" pattern="00000"/>
                                    </h:inputText>

                                </td>
                                <td><h:message for="codigoPostal"/></td>
                            </tr>
                            <tr>
                                <td><h:outputLabel for="barrioId" value="#{msgs['vacanteForm.barrioId']}"/></td>
                                <td>
                                    <h:selectOneMenu id="barrioId" required="true" value="#{candidato.barrioId}">
                                        <f:selectItem itemLabel="#{msgs['vacanteForm.seleccione']}" itemValue="" />
                                        <f:selectItems value="#{barrioHelper.selectItems}" />
                                    </h:selectOneMenu>
                                </td>
                                <td><h:message for="barrioId"/></td>
                            </tr>
                            <tr>
                                <td><h:outputLabel for="ciudad" value="#{msgs['vacanteForm.ciudad']}"/></td>
                                <td>
                                    <h:inputText id="ciudad"  styleClass="input" value="#{candidato.ciudad}" required="true"/>
                                </td>
                                <td><h:message for="ciudad"/></td>
                            </tr>
                        </table>
                        <table>
                            <tr>
                                <td>
                                    <h:commandLink actionListener="#{vacanteForm.ocultarComentario}"
                                                   immediate="true" rendered="#{!vacanteForm.comentarioEnviado}"
                                                   value="#{msgs['vacanteForm.mostrar']}"/>
                                    <h:commandLink actionListener="#{vacanteForm.ocultarComentario}" immediate="true"
                                                   rendered="#{vacanteForm.comentarioEnviado}"
                                                   value="#{msgs['vacanteForm.ocultar']}"/>
                                </td>
                            </tr>
                        </table>
                        <h:panelGroup rendered="#{vacanteForm.comentarioEnviado}">
                            <table>
                                <tr>
                                    <td><h:outputLabel for="comentario" value="#{msgs['vacanteForm.comentario']}"/></td>
                                </tr>
                                <tr>
                                    <td>
                                        <h:inputTextarea id="comentario" cols="50" rows="10" value="#{candidato.comentario}"/>
                                    </td>
                                </tr>
                            </table>
                        </h:panelGroup>
                        <h:commandButton action="#{vacanteForm.enviar}" styleClass="button" value="#{msgs['vacanteForm.enviar']}"/>
                    </div>
                </h:form>
            </ui:define>
        </ui:composition>
    </h:body>
</html>
